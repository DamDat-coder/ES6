<main class="main detail-page">
    <div class="main__header">
        <a href="/?page/home">
            <span>furnitown</span>
        </a>
        <a href="#">
            <span>share</span>
        </a>
        <a href="#">
            <img src="../public/img/right-arrow.png" alt="right-arrow-icon" />
        </a>
    </div>
    <section class="detail">
        <div class="secondary-container">
            <div class="detail-img">
                <div class="detail-img__wrapper">
                    <img id="pro-image" src="../public/img/product-detail.jpg" alt="product-detail" />
                </div>
                <div class="detail-img__zoom">
                    <div class="-btn">
                        <span>Zoom</span>
                        <i>
                            <img src="../public/img/loupe.svg" alt="loupe" />
                        </i>
                    </div>
                </div>
                <div class="detail-img__control">
                    <div class="-btn">
                        <a href="#" class="play-btn">
                            <i>
                                <img src="../public/img/play-icon.svg" alt="play-icon" />
                            </i>
                        </a>
                        <a href="#" class="play-btn">
                            <i>
                                <img src="../public/img/play-icon.svg" alt="play-icon" />
                            </i>
                        </a>
                    </div>
                </div>
                <a href="" id="buy-now-btn">Mua ngay</a>
            </div>
            <div class="detail-info">
                <div class="detail-info__name">
                    <p id="pro-name"></p>
                </div>
                <div class="detail-info__price">
                    <span>giá tiền</span>
                    <span id="pro-price"></span>
                </div>
                <div class="detail-info__desc">
                    <div class="detail-info__desc-row">
                        <span>mã sản phẩm</span>
                        <span id="pro-id"></span>
                    </div>
                    <div class="detail-info__desc-row">
                        <span>chất liệu</span>
                        <span>Gỗ sồi tự nhiên</span>
                    </div>
                    <div class="detail-info__desc-row">
                        <span>màu sắc</span>
                        <span>Đỏ, Xanh, Vàng</span>
                    </div>
                    <div class="detail-info__desc-row">
                        <span>kích thước</span>
                        <span>70cmx70cm</span>
                    </div>
                    <div class="detail-info__desc-row">
                        <span>trạng thái</span>
                        <span>đang có sẵn</span>
                    </div>
                </div>
                <div class="detail-info__short-desc">
                    <h5>mô tả ngắn</h5>
                    <p id="pro-description">

                    </p>
                </div>
            </div>

        </div>
    </section>

    <!-- Related products -->
    <!-- <section class="related-products">
                <div class="container">
                    <h3 class="related-products__title">Các sản phẩm khác</h3>
                    <div class="related-products__list">
                        <div class="product-list">
                            <div class="product-list__item">
                                <div class="product-list__item-detail">
                                    <div class="-img">
                                        <img
                                            src="./../public/img/office-chair.webp"
                                            alt=""
                                        />
                                    </div>
                                    <p class="-name">Ghế gỗ sồi loại 1</p>
                                    <p class="-price">giá : 700.000 vnd</p>
                                </div>
                                <a href="#" class="detail-btn">
                                    <i>
                                        <img
                                            src="../public/img/right-arrow.png"
                                            alt="right-arrow-icon"
                                        />
                                    </i>
                                    <span>chi tiết</span>
                                </a>
                            </div>
                            <div class="product-list__item">
                                <div class="product-list__item-detail">
                                    <div class="-img">
                                        <img
                                            src="../public/img/wood-chair.jpg"
                                            alt=""
                                        />
                                    </div>
                                    <p class="-name">Ghế gỗ sồi loại 1</p>
                                    <p class="-price">giá : 700.000 vnd</p>
                                </div>
                                <a href="#" class="detail-btn">
                                    <i>
                                        <img
                                            src="../public/img/right-arrow.png"
                                            alt="right-arrow-icon"
                                        />
                                    </i>
                                    <span>chi tiết</span>
                                </a>
                            </div>
                            <div class="product-list__item">
                                <div class="product-list__item-detail">
                                    <div class="-img">
                                        <img
                                            src="../public/img/wood-chair.jpg"
                                            alt=""
                                        />
                                    </div>
                                    <p class="-name">Ghế gỗ sồi loại 1</p>
                                    <p class="-price">giá : 700.000 vnd</p>
                                </div>
                                <a href="#" class="detail-btn">
                                    <i>
                                        <img
                                            src="../public/img/right-arrow.png"
                                            alt="right-arrow-icon"
                                        />
                                    </i>
                                    <span>chi tiết</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section> -->
    <!-- Contact -->
    <section class="contact">
        <div class="container">
            <h3 class="contact__title">liên hệ với chúng tôi</h3>
            <p class="contact__desc">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                Nullam leo nisl, convallis in aliquet quis, porta vitae
                lectus. Duis semper at tellus vitae dignissim.
            </p>
            <div class="contact__btn">
                <div class="-wrapper">
                    <a href="contact.html" class="btn-square --active">
                        <span>liên hệ tư vấn</span>
                    </a>
                </div>
                <div class="-wrapper">
                    <a href="product.html" class="btn-square">
                        <span>xem sản phẩm</span>
                    </a>
                </div>
            </div>
        </div>
    </section>
</main>

<!-- JS -->
<script>// Lắng nghe sự kiện nhấp vào nút "chi tiết"
    document.querySelectorAll('.detail-btn').forEach(button => {
        button.addEventListener('click', (e) => {
            // Lấy ID sản phẩm từ data attribute
            const productId = e.target.closest('.detail-btn').getAttribute('data-product-id');

            // Tìm sản phẩm trong danh sách `proList`
            const product = proList.find(p => p.id === productId);

            // Lưu thông tin sản phẩm vào localStorage
            localStorage.setItem('productDetails', JSON.stringify(product));

            // Điều hướng đến trang chi tiết sản phẩm
            window.location.href = '/detail.html'; // Điều hướng đến trang chi tiết
        });
    });
    // Khi trang chi tiết được tải, lấy thông tin sản phẩm từ localStorage và hiển thị
    window.addEventListener('load', async () => {
        // Lấy productId từ URL
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('productId');

        if (!productId) {
            alert("Sản phẩm không tồn tại.");
            window.location.href = '/';  // Điều hướng về trang chủ nếu không có productId
            return;
        }

        // Lấy dữ liệu sản phẩm từ server (hoặc từ nguồn dữ liệu của bạn)
        const product = proList.find(p => p.id === productId);  // Tìm sản phẩm trong danh sách proList

        if (product) {
            // Hiển thị thông tin sản phẩm
            document.querySelector("#pro-name").innerText = product.name;
            document.querySelector("#pro-price").innerText = formatPrice(product.price);
            document.querySelector("#pro-description").innerText = product.description;
            document.querySelector("#pro-id").innerText = product.id;
            document.querySelector("#pro-image").src = product.image;
        } else {
            alert("Không tìm thấy sản phẩm.");
            window.location.href = '/';  // Điều hướng về trang chủ nếu không tìm thấy sản phẩm
        }
    });


</script>
</body>

</html>